# Emmm 开发前言

建模是模拟计算中最困难的部分.

脑力上讲, 你需要思考如何抽象, 保留精髓, 去其糟粕. 既可以得到足够精准的结果, 又尽可能节省计算的时间;
体力上讲, 你需要将模型重写成软件可以读取的数据, 并根据实验情况增减改查. 

对于LAMMPS这个软件来说, 通行的有一下几种方案

|   |  优点  | 缺点 |
|---|---|---|
| Material Studio  |  可视化, 内置各种模型 | 收费, 庞大 |
| Moltemplate | 可以操作分子, 批量化操作 | 独立的脚本语言和数据格式, 难以修改源码 |
| ligpargen | 根据化学式或者手绘的模型自动优化构型 | 只能生成一个分子 |
| packmol | 初始化构型优化软件 | 本身不提供建模功能 |

因此我决定写一个能够综合以上各种软件优点的工具, 能够做到:

* 可视化操作, 直接在面板上绘制单独的分子;
* 读取不同格式文件, 提取其中所需的部分, 尽可能利用现有数据库;
* 使用内置的插件生成常见的模型, 如石墨烯片/管, 晶体, 高分子链等;
* 可以操作选中的分子, 平移, 旋转, 复制;
* 优化初始化构型, 像packmol一样根据限制摆放分子;
* 有清晰的API和方便的插件管理系统, 在不了解内核的情况下增加功能;
* 通过插件的扩展, 输出成不同格式的文件;
* 简单的分析功能.

相比于之前的LAMMPS教程工作, 这个项目对我自身的提高更加有益. 很长一段时间之内我可能不再做跟分子动力学有关的东西, 但是会工程化地写一些软件. 众所周知, 写一个函数或者算法并不难, 难得是如何构建一个大型的工程, 健壮, 易维护, 可以让更多的人参与进来. 这些知识在任何一本编程书上都没有很好的实例, 完全是经验的积累. 你可以看*complete code*学习一些准则, 看*design patterns*学习一些面向对象的理念, 但是如何运用还是需要从实践中学习. 我会在这个软件开发的过程中不断记录一些工程上遇到的问题, 例如如何管理项目, 如何书写文档, 如何多人合作, 如何测试, 期间的一些思考. 这些都将会放到另一个专栏中. 

这个软件已经写了大约一个多月, 期间遇到了大量的之前没有考虑或者过去觉得小题大作的问题, 让我对软件工程有了新的认识. 尖端科学的推进可能只需要几个人完成, 像我这样脑子不太好使的有必要去做一些基础的工作来方便他们向前推进. 

`Emmm`这个名字是东南大学的卫同学起的, 是`Emmm makes molecule manipulated`的所写, 有种梦回80年代的感觉(指`GNU's Not Unix`). 这个项目依旧是开源的, 托管在[GitHub](https://github.com/Roy-Kid/emmm)上. 整个软件的后端部分全都是用`python`写的, 目前没有发现有性能问题. 即便是有, 也可以轻松地替换为`C++`. 前端部分使用`three.js`和`electron`写的, 这样就可以免去编译和配置的问题, 而且非常容易地部署在服务器上. 

这个项目可能需要非常长的时间以达到可以使用的版本, 但是慢慢来就行, 每天写一点, 有得是时间. 
如果你想练练`python`和`javascript`, 不妨和我一起来试试. 我是菜逼, 需要抱大佬的大腿. 