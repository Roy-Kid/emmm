.. _dev_core:

内核开发
========

.. warning::

    仍在开发和完善中, 欢迎贡献力量!

Atom 与 Molecule
*********************

整个软件的核心是``Atom``和``Molecule``两个类. 这两个类中储存了所有的数据, 其他一切的模块都是对这两个类的读取和操作.

对于一个分子, 抽象来看只需要知道两中数据: **位置坐标**和**拓扑结构**. 分子中每一个原子, 都是一个坐标上附加着原子类型等其他的属性, 因此我们的所有信息-名称, 类型, 电荷, 坐标等-都储存在`Atom`类中. 原子还需要键接在一起, 整体形成一个**图**的结构, 所以每个原子还需要储存与它相连的原子的信息. 

一个分子可能有多级结构. 以蛋白质为例, 各种原子组成氨基酸, 氨基酸序列组成多肽链, 多肽链形成螺旋或折叠的二级结构, 二级结构幸存三维结构, 三维结构组合形成复杂分子这样. 因此我们将原子组织为**树**的层级结构方便访问. `Molecule`可以看作一个容器, 来容纳比它低一层的结构. 

``Atom``和``Molecule``统称为``Item``. 一个``Molecule``可以储存多个``Atom``形成一个初级结构, 可以储存多个``Molecule``形成更高一级的结构, 也可以混合储存这两种``Item``. ``Item``可以看作空间中的一个实体, 都可以进行``move``平移, ``rotate``旋转等单元操作, 也可以使用``seperate_with``和其他``Item``相分离, ``distance_to``测量距离这样的二元操作. 

由上可见, ``Atom``和``Molecule`` 两个类包含了体系全部的数据. 因此精心设计与维护好这两个类保证软件的通用性和灵活性. 具体的方法与属性请参阅手册部分.

